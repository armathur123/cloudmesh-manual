

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>cloudmesh-inventory.cloudmesh.host.command.host &mdash; Cloudmesh 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../../../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../../" src="../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../_static/jquery.js"></script>
        <script src="../../../../../../_static/underscore.js"></script>
        <script src="../../../../../../_static/doctools.js"></script>
        <script src="../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
        <script src="../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
        <script src="../../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../../index.html" class="icon icon-home"> Cloudmesh
          

          
            
            <img src="../../../../../../_static/logo3.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                4.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">INTRODUCTION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../preface/index.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../configuration/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../concepts/index.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../accounts/index.html">Cloud Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../viewer/index.html">Cloudmesh Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../benchmarks/index.html">Benchmarks</a></li>
</ul>
<p class="caption"><span class="caption-text">MANUAL PAGES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../cmd5.html">cms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../manual/all.html">Command List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../manual-cmd5.html">Basic Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../manual-configuration.html">Configuration Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../manual-group.html">Group Command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../manual-compute.html">Compute Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../manual-storage.html">Storage Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../manual-community.html">Community Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../reference-card.html">Reference Card</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../jupyter/index.html">Jupyter Integration</a></li>
</ul>
<p class="caption"><span class="caption-text">COMMUNITY</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../projects/index.html">Community Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../dev/index.html">Contributing</a></li>
</ul>
<p class="caption"><span class="caption-text">OTHER</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../installation/database/mongo-use.html">Developing with Mongo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../todo.html">To Do</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../deprecated.html">Deprecated</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">Cloudmesh</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">cloudmesh-inventory.cloudmesh.host.command.host</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../../_sources/autoapi/cloudmeshinventory/cloudmesh/host/command/host/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-cloudmesh-inventory.cloudmesh.host.command.host">
<span id="cloudmesh-inventory-cloudmesh-host-command-host"></span><h1><a class="reference internal" href="#module-cloudmesh-inventory.cloudmesh.host.command.host" title="cloudmesh-inventory.cloudmesh.host.command.host"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cloudmesh-inventory.cloudmesh.host.command.host</span></code></a><a class="headerlink" href="#module-cloudmesh-inventory.cloudmesh.host.command.host" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#cloudmesh-inventory.cloudmesh.host.command.host.HostCommand" title="cloudmesh-inventory.cloudmesh.host.command.host.HostCommand"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HostCommand</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="cloudmesh-inventory.cloudmesh.host.command.host.HostCommand">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">cloudmesh-inventory.cloudmesh.host.command.host.</span></code><code class="sig-name descname"><span class="pre">HostCommand</span></code><a class="headerlink" href="#cloudmesh-inventory.cloudmesh.host.command.host.HostCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../../../cloudmesh/shell/command/index.html#cloudmesh.shell.command.PluginCommand" title="cloudmesh.shell.command.PluginCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">cloudmesh.shell.command.PluginCommand</span></code></a></p>
<dl class="py method">
<dt id="cloudmesh-inventory.cloudmesh.host.command.host.HostCommand.do_host">
<code class="sig-name descname"><span class="pre">do_host</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arguments</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh-inventory.cloudmesh.host.command.host.HostCommand.do_host" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Usage:</dt><dd><p>host scp NAMES SOURCE DESTINATION [–dryrun]
host ssh NAMES COMMAND [–dryrun] [–output=FORMAT]
host config NAMES [IPS] [–user=USER] [–key=PUBLIC]
host check NAMES [–user=USER] [–key=PUBLIC]
host key create NAMES [–user=USER] [–dryrun] [–output=FORMAT]
host key list NAMES [–output=FORMAT]
host key gather NAMES [–authorized_keys] [FILE]
host key scatter NAMES FILE
host tunnel create NAMES [–port=PORT]
host mac NAMES [–eth] [–wlan] [–output=FORMAT]
host setup WORKERS [LAPTOP]</p>
</dd>
</dl>
<p>This command does some useful things.</p>
<dl>
<dt>Arguments:</dt><dd><p>FILE   a file name</p>
</dd>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">--dryrun</span></kbd></dt>
<dd><p>shows what would be done but does not execute</p>
</dd>
<dt><kbd><span class="option">--output=<var>FORMAT</var></span></kbd></dt>
<dd><p>the format of the output</p>
</dd>
</dl>
<p>–port=PORT starting local port for tunnel assignment</p>
</dd>
</dl>
<p>Description:</p>
<blockquote>
<div><p>host scp NAMES SOURCE DESTINATION</p>
<blockquote>
<div><p>TBD</p>
</div></blockquote>
<p>host ssh NAMES COMMAND</p>
<blockquote>
<div><p>runs the command on all specified hosts
Example:</p>
<blockquote>
<div><p>ssh red[01-10] “uname -a”</p>
</div></blockquote>
</div></blockquote>
<dl>
<dt>host key create NAMES</dt><dd><p>create a ~/.ssh/id_rsa and id_rsa.pub on all hosts specified
Example:</p>
<blockquote>
<div><p>ssh key create “red[01-10]”</p>
</div></blockquote>
</dd>
</dl>
<p>host key list NAMES</p>
<blockquote>
<div><dl class="simple">
<dt>list all id_rsa.pub keys from all hosts specifed</dt><dd><dl class="simple">
<dt>Example:</dt><dd><p>ssh key list red[01-10]</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>host key gather HOSTS FILE</p>
<blockquote>
<div><p>gathers all keys from file FILE including the one from localhost.</p>
<blockquote>
<div><p>ssh key gather “red[01-10]” keys.txt</p>
</div></blockquote>
</div></blockquote>
<p>host key scatter HOSTS FILE</p>
<blockquote>
<div><p>copies all keys from file FILE to authorized_keys on all hosts,
but also makes sure that the users ~/.ssh/id_rsa.pub key is in
the file.</p>
<ol class="arabic simple">
<li><p>adds ~/.id_rsa.pub to the FILE only if its not already in it</p></li>
<li><p>removes all duplicated keys</p></li>
</ol>
<dl class="simple">
<dt>Example:</dt><dd><p>ssh key scatter “red[01-10]”</p>
</dd>
</dl>
</div></blockquote>
<p>host key scp NAMES FILE</p>
<blockquote>
<div><p>copies all keys from file FILE to authorized_keys on all hosts
but also makes sure that the users ~/.ssh/id_rsa.pub key is in
the file and removes duplicates, e.g. it calls fix before upload</p>
<dl class="simple">
<dt>Example:</dt><dd><p>ssh key list red[01-10] &gt; pubkeys.txt
ssh key scp red[01-10] pubkeys.txt</p>
</dd>
</dl>
</div></blockquote>
<p>host config NAMES IPS [–user=USER] [–key=PUBLIC]</p>
<blockquote>
<div><p>generates an ssh config file tempalte that can be added to your
.ssh/config file</p>
<dl class="simple">
<dt>Example:</dt><dd><p>cms host config “red,red[01-03]” “198.168.1.[1-4]” –user=pi</p>
</dd>
</dl>
</div></blockquote>
<p>host check NAMES [–user=USER] [–key=PUBLIC]</p>
<blockquote>
<div><p>This command is used to test if you can login to the specified
hosts. It executes the hostname command and compares it.
It provides a table  with a sucess column</p>
<p>cms host check “red,red[01-03]”</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 38%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>host</p></td>
<td><p>success</p></td>
<td><p>stdout</p></td>
</tr>
<tr class="row-even"><td><p>red
red01
red02
red03</p></td>
<td><p>True
True
True
True</p></td>
<td><p>red
red01
red02
red03</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<p>host tunnel create NAMES [–port=PORT]</p>
<blockquote>
<div><p>This command is used to create a persistent local port
forward on the host to permit ssh tunnelling from the wlan to
the physical network (eth). This registers an autossh service in
systemd with the defualt port starting at 8001.</p>
<dl class="simple">
<dt>Example:</dt><dd><p>cms host tunnel create red00[1-3]</p>
</dd>
</dl>
</div></blockquote>
<p>host mac NAMES</p>
<blockquote>
<div><p>returns the list of mac addresses of the named pis.</p>
</div></blockquote>
<p>host setup WORKERS [LAPTOP]</p>
<blockquote>
<div><p>Executes the following steps</p>
<blockquote>
<div><p>cms bridge create –interface=’wlan0’
cms host key create red00[1-3]
cms host key gather red00[1-3],you&#64;yourlaptop.local keys.txt
cms host key scatter red00[1-3],localhost keys.txt
rm keys.txt
cms host tunnel create red00[1-3]</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2010-2021, Gregor von Laszewski.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>