

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cloudmesh Providers &mdash; Cloudmesh 0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
        <script src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
        <script src="../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="OpenAPI Web Services" href="openapi.html" />
    <link rel="prev" title="Multicloud Database Interfaces" href="database.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Cloudmesh
          

          
            
            <img src="../_static/logo3.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                4.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">PREFACE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preface/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preface/contributors.html">Contributors</a></li>
</ul>
<p class="caption"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Instalation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html#cloudmesh-database">Cloudmesh Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">CONCEPTS</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="compute.html">Multicloud Compute Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage.html">Multicloud Storage Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Multicloud Database Interfaces</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Cloudmesh Providers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#instalation-in-a-single-directory">Instalation in a single directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#instalation-in-a-multiple-directories">Instalation in a multiple directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-usage">Command Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="openapi.html">OpenAPI Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespaces.html">Package Namespaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="commandshell.html">Extensible Command Shell</a></li>
</ul>
<p class="caption"><span class="caption-text">MANUAL PAGES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cmd5.html">Cmd5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference-card.html">Reference Card</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/all.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-configuration.html">Manual Other</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-cmd5.html">Manual Cmd5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-group.html">Manual Group</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-compute.html">Compute Manual Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-storage.html">Storage Manual Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-other.html">Manual Other</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../jupyter/index.html">Jupyter Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Cloudmesh Command API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html#cloudmesh-api">Cloudmesh API</a></li>
</ul>
<p class="caption"><span class="caption-text">CONTRIBUTION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../projects/index.html">Cloudmesh Development Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/conventions.html">Code Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/manual.html">Documentation Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/manual.html#version-management">Version Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/management.html">Code Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/pytest.html">Pytest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/todo.html">ToDo</a></li>
</ul>
<p class="caption"><span class="caption-text">CLOUD ACCOUNTS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../accounts/openstack.html">OpenStack Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/aws.html">AWS Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/azure.html">Azure Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google/account.html">Google Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/oracle/account.html">Oracle Cloud Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/box.html">Box Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/accountcreation-old.html">VM Providers (outdated)</a></li>
</ul>
<p class="caption"><span class="caption-text">GOOGLE ACCOUNT (FIXME)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google/index.html">Google Acooounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google/gdrive/gdrive.html">Google Drive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google/account.html">Google Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google/google-docs.html">Google Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google/google-gcp.html">Google Cloud Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google/google-storage-1.html">Google Cloud Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google/refernces.html">References</a></li>
</ul>
<p class="caption"><span class="caption-text">FAQ AND TIPS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/install.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/chameleon.html">FAQ chameleon cloud</a></li>
</ul>
<p class="caption"><span class="caption-text">UNLISTED TODO</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/modules.html">cloudmesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="ai.html">Multicloud AI Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributions.html">Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/chameleon.html">FAQ chameleon cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/install.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/analytics.html">analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/book.html">book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/bookmanagerservice.html">bookmanagerservice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/emr.html">emr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/git.html">git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/queue.html">queue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/test.html">test</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/windows.html">windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/workflow_draft.html">workflow_draft</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows/windows-broken-make.html">Windows Cloudmesh Ubuntu Subsystem Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows/windows-linux.html">Using windows instead of Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows/windows-ubuntu.html">Windows Cloudmesh Development Environment</a></li>
</ul>
<p class="caption"><span class="caption-text">OTHER</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tbd.html">OTHER</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tbd.html#outdated">OUTDATED</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cloudmesh</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Cloudmesh Providers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/concepts/providers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cloudmesh-providers">
<h1>Cloudmesh Providers<a class="headerlink" href="#cloudmesh-providers" title="Permalink to this headline">¶</a></h1>
<p>Cloudmesh is based on the concept of providers that make it possible to develop
API interfaces to different services independently while inheriting the
functionality form a comman abstract class.</p>
<div class="section" id="instalation-in-a-single-directory">
<h2>Instalation in a single directory<a class="headerlink" href="#instalation-in-a-single-directory" title="Permalink to this headline">¶</a></h2>
<p>Let us demonstarte this for a compute provider. For convenience to document
this, we assume that the diectories are stored in ~/cm. However they can be
stored in any directory. We have the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">cm</span><span class="o">/</span>
    <span class="n">cloudmesh</span><span class="o">/</span><span class="n">compute</span>
        <span class="n">ComputeABC</span><span class="o">.</span><span class="n">py</span>
        <span class="n">Provider</span><span class="o">.</span><span class="n">py</span>
        <span class="n">command</span><span class="o">/</span><span class="n">vm</span><span class="o">.</span><span class="n">py</span>
        <span class="n">command</span><span class="o">/</span><span class="n">image</span><span class="o">.</span><span class="n">py</span>
        <span class="n">command</span><span class="o">/</span><span class="n">flavor</span><span class="o">.</span><span class="n">py</span>
        <span class="n">aws</span><span class="o">/</span><span class="n">Provider</span><span class="o">.</span><span class="n">py</span>
        <span class="n">azure</span><span class="o">/</span><span class="n">Provider</span><span class="o">.</span><span class="n">py</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Here the ABC class determines which methods must be implemented by the
provider. The provider in cloudmesh containes a service name in the init
function. This name is tahn used to read configuration parameters including a
cm.kind that identifies which Provider sis read upon loading it by name.</p>
<p>Example: The yaml file ~/.cloudmesh/cludmesh.yaml contains the entry:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cloudmesh</span><span class="p">:</span>
  <span class="n">compute</span><span class="p">:</span> <span class="c1"># currently called cloud</span>
    <span class="n">mycloud</span><span class="p">:</span>
      <span class="n">cm</span><span class="p">:</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">maycloud</span>
        <span class="n">kind</span><span class="p">:</span> <span class="n">aws</span>
      <span class="n">credentials</span><span class="p">:</span>
        <span class="o">...</span>
      <span class="n">defaults</span><span class="p">:</span>
        <span class="n">size</span><span class="p">:</span> <span class="o">...</span>
        <span class="n">image</span><span class="p">:</span> <span class="o">...</span>
</pre></div>
</div>
<p>Now when we call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">provider</span> <span class="o">=</span> <span class="n">cloudmesh</span><span class="o">.</span><span class="n">compute</span><span class="o">.</span><span class="n">Provider</span><span class="p">(</span><span class="n">service</span><span class="o">=</span><span class="s2">&quot;mycloud&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The Provider will load in the provider from the aws directory, as the cm.kind
is specified as <cite>aws</cite>. Thus the main provider delegates the tasks to interface
with teh particular cloud type via the definitions coming from the cloudmesh
yaml file. This makes it possible to easily create multiple interface sto
different cloud service providers while managing a uniform interface via the
ABC class. All providers in this hierarchie must innherit from the ABC class.</p>
</div>
<div class="section" id="instalation-in-a-multiple-directories">
<h2>Instalation in a multiple directories<a class="headerlink" href="#instalation-in-a-multiple-directories" title="Permalink to this headline">¶</a></h2>
<p>In addition to this structure which is prefered whan all providers are managed
in one source directory we also use a second pattern in which we manage each
provider in its own package.</p>
<p>here the directory structure looks as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">cm</span><span class="o">/</span>

    <span class="n">cloudmesh</span><span class="o">-</span><span class="n">compute</span><span class="o">/</span>  <span class="c1">#curertly named cloudmes-cloud</span>
        <span class="n">cloudmesh</span><span class="o">/</span><span class="n">compute</span>
            <span class="n">ComputeABC</span><span class="o">.</span><span class="n">py</span>
            <span class="n">Provider</span><span class="o">.</span><span class="n">py</span>
            <span class="n">command</span><span class="o">/</span><span class="n">vm</span><span class="o">.</span><span class="n">py</span>
            <span class="n">command</span><span class="o">/</span><span class="n">image</span><span class="o">.</span><span class="n">py</span>
            <span class="n">command</span><span class="o">/</span><span class="n">flavor</span><span class="o">.</span><span class="n">py</span>

    <span class="n">cloudmesh</span><span class="o">-</span><span class="n">aws</span><span class="o">/</span>
        <span class="n">cloudmesh</span><span class="o">/</span>
            <span class="n">aws</span><span class="o">/</span><span class="n">Provider</span><span class="o">.</span><span class="n">py</span>

    <span class="n">cloudmesh</span><span class="o">-</span><span class="n">azure</span><span class="o">/</span>
        <span class="n">cloudmesh</span><span class="o">/</span>
            <span class="n">azure</span><span class="o">/</span><span class="n">Provider</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>In this case we have includes in the compute provider imports for the providers
defined in their own reporsitories. As we use the shared namespace they can be
accessed from the main provider easily. THis allows us to simply add the
provider with a simple pip install:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">cm</span><span class="o">/</span><span class="n">cloudmesh</span><span class="o">-</span><span class="n">compute</span><span class="o">/</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">.</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">cm</span><span class="o">/</span><span class="n">cloudmesh</span><span class="o">-</span><span class="n">aws</span><span class="o">/</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">.</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">cm</span><span class="o">/</span><span class="n">cloudmesh</span><span class="o">-</span><span class="n">azure</span><span class="o">/</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">.</span>
</pre></div>
</div>
<p>Now the aws and azure providers are accessible in cloudmesh and if a command is
provided they can bae accessed from there.</p>
</div>
<div class="section" id="command-usage">
<h2>Command Usage<a class="headerlink" href="#command-usage" title="Permalink to this headline">¶</a></h2>
<p>You will have noticed that we also included some commands in the code. THease
are commands that make use of the main provider and expose the fucntionality of
the provider conveniently to the users in the cmd5 command line and
command shell tool.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="openapi.html" class="btn btn-neutral float-right" title="OpenAPI Web Services" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="database.html" class="btn btn-neutral float-left" title="Multicloud Database Interfaces" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2020, Gregor von Laszewski

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>